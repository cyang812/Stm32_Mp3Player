


ARM Macro Assembler    Page 1 


    1 00000000                 AREA             |.text|, CODE, READONLY, ALIGN=
2
    2 00000000         ;   RSEG CODE:CODE:NOROOT(2)
    3 00000000                 THUMB
    4 00000000                 REQUIRE8
    5 00000000                 PRESERVE8
    6 00000000         
    7 00000000        0 
                       PCM     RN               r0
    8 00000000        1 
                       VB1     RN               r1
    9 00000000        2 
                       COEF    RN               r2
   10 00000000         
   11 00000000        0 
                       VLO     RN               r0
   12 00000000        3 
                       VHI     RN               r3
   13 00000000         
   14 00000000        4 
                       SUM1LL  RN               r4
   15 00000000        5 
                       SUM1LH  RN               r5
   16 00000000        6 
                       SUM2LL  RN               r6
   17 00000000        7 
                       SUM2LH  RN               r7
   18 00000000        8 
                       SUM1RL  RN               r8
   19 00000000        9 
                       SUM1RH  RN               r9
   20 00000000        A 
                       SUM2RL  RN               r10
   21 00000000        B 
                       SUM2RH  RN               r11
   22 00000000         
   23 00000000        C 
                       CF1     RN               r12
   24 00000000        E 
                       CF2     RN               r14
   25 00000000         
   26 00000000        C 
                       SIGN    RN               r12
   27 00000000        E 
                       MAXPOS  RN               r14
   28 00000000         
   29 00000000        C 
                       I       RN               r12
   30 00000000         
   31 00000000                 GBLA             RNDVAL
   32 00000000 02000000 
                       RNDVAL  SETA             (1 << ((32 - 12) + (6 - 1)))
   33 00000000         
   34 00000000         ; C64TOS - clip 64-bit accumulator to short (no rounding
                       )
   35 00000000         ; xl, xh = value (lo 32, hi 32)
   36 00000000         ; input assumed to have 6 fraction bits
   37 00000000         ; sign = temp variable to use for sign
   38 00000000         ; maxPos = 0x00007fff (takes 2 instr. to generate - calc



ARM Macro Assembler    Page 2 


                       ulating
   39 00000000         ; once and using repeatedly saves if you do several CTOS
                        in a row) */
   40 00000000                 MACRO
   41 00000000                 C64TOS           $xl, $xh, $sign, $maxPos
   42 00000000         
   43 00000000                 mov              $xl, $xl, lsr #(20+6)
   44 00000000                 orr              $xl, $xl, $xh, lsl #(12-6)
   45 00000000                 mov              $sign, $xl, ASR #31
   46 00000000                 cmp              $sign, $xl, ASR #15
   47 00000000                 it               ne
   48 00000000                 eorne            $xl, $sign, $maxPos
   49 00000000                 MEND                         ; C64TOS
   50 00000000         
   51 00000000         ; MC0S - process 2 taps, 1 sample per channel (sample 0)
                        */
   52 00000000         ; x = vb1 offset */
   53 00000000                 MACRO
   54 00000000                 MC0S             $x
   55 00000000         
   56 00000000                 ldr              CF1, [COEF], #4
   57 00000000                 ldr              CF2, [COEF], #4
   58 00000000                 ldr              VLO, [VB1, #(4*($x))]
   59 00000000                 ldr              VHI, [VB1, #(4*(23 - $x))]
   60 00000000         
   61 00000000                 smlal            SUM1LL, SUM1LH, VLO, CF1
   62 00000000                 ldr              VLO, [VB1, #(4*(32 + $x))]
   63 00000000                 rsb              CF2, CF2, #0
   64 00000000                 smlal            SUM1LL, SUM1LH, VHI, CF2
   65 00000000                 ldr              VHI, [VB1, #(4*(32 + 23 - $x))]
   66 00000000         
   67 00000000                 smlal            SUM1RL, SUM1RH, VLO, CF1
   68 00000000                 smlal            SUM1RL, SUM1RH, VHI, CF2
   69 00000000         
   70 00000000                 MEND                         ; MCOS
   71 00000000         
   72 00000000         ; MC1S - process 2 taps, 1 sample per channel (sample 16
                       )
   73 00000000         ; x = vb1 offset
   74 00000000                 MACRO
   75 00000000                 MC1S             $x
   76 00000000         
   77 00000000                 ldr              CF1, [COEF], #4
   78 00000000                 ldr              VLO, [VB1, #(4*($x))]
   79 00000000                 ldr              VHI, [VB1, #(4*(32 + $x))]
   80 00000000                 smlal            SUM1LL, SUM1LH, VLO, CF1
   81 00000000                 smlal            SUM1RL, SUM1RH, VHI, CF1
   82 00000000         
   83 00000000                 MEND                         ; MC1S
   84 00000000         
   85 00000000         ; MC2S - process 2 taps, 2 samples per channel
   86 00000000         ; x = vb1 offset
   87 00000000                 MACRO
   88 00000000                 MC2S             $x
   89 00000000         
   90 00000000         ; load data as far as possible in advance of using it
   91 00000000                 ldr              CF1, [COEF], #4
   92 00000000                 ldr              CF2, [COEF], #4
   93 00000000                 ldr              VLO, [VB1, #(4*($x))]



ARM Macro Assembler    Page 3 


   94 00000000                 ldr              VHI, [VB1, #(4*(23 - $x))]
   95 00000000         
   96 00000000                 smlal            SUM1LL, SUM1LH, VLO, CF1
   97 00000000                 smlal            SUM2LL, SUM2LH, VLO, CF2
   98 00000000                 rsb              CF2, CF2, #0
   99 00000000                 smlal            SUM2LL, SUM2LH, VHI, CF1
  100 00000000                 smlal            SUM1LL, SUM1LH, VHI, CF2
  101 00000000         
  102 00000000                 ldr              VHI, [VB1, #(4*(32 + 23 - $x))]
  103 00000000                 ldr              VLO, [VB1, #(4*(32 + $x))]
  104 00000000         
  105 00000000                 smlal            SUM1RL, SUM1RH, VHI, CF2
  106 00000000                 smlal            SUM2RL, SUM2RH, VHI, CF1
  107 00000000                 rsb              CF2, CF2, #0
  108 00000000                 smlal            SUM1RL, SUM1RH, VLO, CF1
  109 00000000                 smlal            SUM2RL, SUM2RH, VLO, CF2
  110 00000000         
  111 00000000                 MEND                         ; MC2S
  112 00000000         
  113 00000000         
  114 00000000         ; void PolyphaseStereo(short *pcm, int *vbuf, const int 
                       *coefBase)
  115 00000000         xmp3_PolyphaseStereo
                               PROC
  116 00000000                 EXPORT           xmp3_PolyphaseStereo
  117 00000000         
  118 00000000 E92D 4FF0       stmfd            sp!, {r4-r11, r14}
  119 00000004         
  120 00000004         ; clear out stack space for 2 local variables (4 bytes e
                       ach)
  121 00000004 B082            sub              sp, sp, #8
  122 00000006 9001            str              PCM , [sp, #4] ; sp[1] = pcm po
                                                            inter
  123 00000008         
  124 00000008         ; special case, output sample 0
  125 00000008 F04F 7400       mov              SUM1LL, #RNDVAL ; load rndVal (
                                                            low 32)
  126 0000000C F04F 7800       mov              SUM1RL, #RNDVAL ; load rndVal (
                                                            low 32)
  127 00000010 F04F 0500       mov              SUM1LH, #0
  128 00000014 F04F 0900       mov              SUM1RH, #0
  129 00000018         
  130 00000018                 MC0S             0
   55 00000018         
   56 00000018 F852 CB04       ldr              CF1, [COEF], #4
   57 0000001C F852 EB04       ldr              CF2, [COEF], #4
   58 00000020 6808            ldr              VLO, [VB1, #(4*(0))]
   59 00000022 6DCB            ldr              VHI, [VB1, #(4*(23 - 0))]
   60 00000024         
   61 00000024 FBC0 450C       smlal            SUM1LL, SUM1LH, VLO, CF1
   62 00000028 F8D1 0080       ldr              VLO, [VB1, #(4*(32 + 0))]
   63 0000002C F1CE 0E00       rsb              CF2, CF2, #0
   64 00000030 FBC3 450E       smlal            SUM1LL, SUM1LH, VHI, CF2
   65 00000034 F8D1 30DC       ldr              VHI, [VB1, #(4*(32 + 23 - 0))]
   66 00000038         
   67 00000038 FBC0 890C       smlal            SUM1RL, SUM1RH, VLO, CF1
   68 0000003C FBC3 890E       smlal            SUM1RL, SUM1RH, VHI, CF2
   69 00000040         
  131 00000040                 MC0S             1



ARM Macro Assembler    Page 4 


   55 00000040         
   56 00000040 F852 CB04       ldr              CF1, [COEF], #4
   57 00000044 F852 EB04       ldr              CF2, [COEF], #4
   58 00000048 6848            ldr              VLO, [VB1, #(4*(1))]
   59 0000004A 6D8B            ldr              VHI, [VB1, #(4*(23 - 1))]
   60 0000004C         
   61 0000004C FBC0 450C       smlal            SUM1LL, SUM1LH, VLO, CF1
   62 00000050 F8D1 0084       ldr              VLO, [VB1, #(4*(32 + 1))]
   63 00000054 F1CE 0E00       rsb              CF2, CF2, #0
   64 00000058 FBC3 450E       smlal            SUM1LL, SUM1LH, VHI, CF2
   65 0000005C F8D1 30D8       ldr              VHI, [VB1, #(4*(32 + 23 - 1))]
   66 00000060         
   67 00000060 FBC0 890C       smlal            SUM1RL, SUM1RH, VLO, CF1
   68 00000064 FBC3 890E       smlal            SUM1RL, SUM1RH, VHI, CF2
   69 00000068         
  132 00000068                 MC0S             2
   55 00000068         
   56 00000068 F852 CB04       ldr              CF1, [COEF], #4
   57 0000006C F852 EB04       ldr              CF2, [COEF], #4
   58 00000070 6888            ldr              VLO, [VB1, #(4*(2))]
   59 00000072 6D4B            ldr              VHI, [VB1, #(4*(23 - 2))]
   60 00000074         
   61 00000074 FBC0 450C       smlal            SUM1LL, SUM1LH, VLO, CF1
   62 00000078 F8D1 0088       ldr              VLO, [VB1, #(4*(32 + 2))]
   63 0000007C F1CE 0E00       rsb              CF2, CF2, #0
   64 00000080 FBC3 450E       smlal            SUM1LL, SUM1LH, VHI, CF2
   65 00000084 F8D1 30D4       ldr              VHI, [VB1, #(4*(32 + 23 - 2))]
   66 00000088         
   67 00000088 FBC0 890C       smlal            SUM1RL, SUM1RH, VLO, CF1
   68 0000008C FBC3 890E       smlal            SUM1RL, SUM1RH, VHI, CF2
   69 00000090         
  133 00000090                 MC0S             3
   55 00000090         
   56 00000090 F852 CB04       ldr              CF1, [COEF], #4
   57 00000094 F852 EB04       ldr              CF2, [COEF], #4
   58 00000098 68C8            ldr              VLO, [VB1, #(4*(3))]
   59 0000009A 6D0B            ldr              VHI, [VB1, #(4*(23 - 3))]
   60 0000009C         
   61 0000009C FBC0 450C       smlal            SUM1LL, SUM1LH, VLO, CF1
   62 000000A0 F8D1 008C       ldr              VLO, [VB1, #(4*(32 + 3))]
   63 000000A4 F1CE 0E00       rsb              CF2, CF2, #0
   64 000000A8 FBC3 450E       smlal            SUM1LL, SUM1LH, VHI, CF2
   65 000000AC F8D1 30D0       ldr              VHI, [VB1, #(4*(32 + 23 - 3))]
   66 000000B0         
   67 000000B0 FBC0 890C       smlal            SUM1RL, SUM1RH, VLO, CF1
   68 000000B4 FBC3 890E       smlal            SUM1RL, SUM1RH, VHI, CF2
   69 000000B8         
  134 000000B8                 MC0S             4
   55 000000B8         
   56 000000B8 F852 CB04       ldr              CF1, [COEF], #4
   57 000000BC F852 EB04       ldr              CF2, [COEF], #4
   58 000000C0 6908            ldr              VLO, [VB1, #(4*(4))]
   59 000000C2 6CCB            ldr              VHI, [VB1, #(4*(23 - 4))]
   60 000000C4         
   61 000000C4 FBC0 450C       smlal            SUM1LL, SUM1LH, VLO, CF1
   62 000000C8 F8D1 0090       ldr              VLO, [VB1, #(4*(32 + 4))]
   63 000000CC F1CE 0E00       rsb              CF2, CF2, #0
   64 000000D0 FBC3 450E       smlal            SUM1LL, SUM1LH, VHI, CF2
   65 000000D4 F8D1 30CC       ldr              VHI, [VB1, #(4*(32 + 23 - 4))]



ARM Macro Assembler    Page 5 


   66 000000D8         
   67 000000D8 FBC0 890C       smlal            SUM1RL, SUM1RH, VLO, CF1
   68 000000DC FBC3 890E       smlal            SUM1RL, SUM1RH, VHI, CF2
   69 000000E0         
  135 000000E0                 MC0S             5
   55 000000E0         
   56 000000E0 F852 CB04       ldr              CF1, [COEF], #4
   57 000000E4 F852 EB04       ldr              CF2, [COEF], #4
   58 000000E8 6948            ldr              VLO, [VB1, #(4*(5))]
   59 000000EA 6C8B            ldr              VHI, [VB1, #(4*(23 - 5))]
   60 000000EC         
   61 000000EC FBC0 450C       smlal            SUM1LL, SUM1LH, VLO, CF1
   62 000000F0 F8D1 0094       ldr              VLO, [VB1, #(4*(32 + 5))]
   63 000000F4 F1CE 0E00       rsb              CF2, CF2, #0
   64 000000F8 FBC3 450E       smlal            SUM1LL, SUM1LH, VHI, CF2
   65 000000FC F8D1 30C8       ldr              VHI, [VB1, #(4*(32 + 23 - 5))]
   66 00000100         
   67 00000100 FBC0 890C       smlal            SUM1RL, SUM1RH, VLO, CF1
   68 00000104 FBC3 890E       smlal            SUM1RL, SUM1RH, VHI, CF2
   69 00000108         
  136 00000108                 MC0S             6
   55 00000108         
   56 00000108 F852 CB04       ldr              CF1, [COEF], #4
   57 0000010C F852 EB04       ldr              CF2, [COEF], #4
   58 00000110 6988            ldr              VLO, [VB1, #(4*(6))]
   59 00000112 6C4B            ldr              VHI, [VB1, #(4*(23 - 6))]
   60 00000114         
   61 00000114 FBC0 450C       smlal            SUM1LL, SUM1LH, VLO, CF1
   62 00000118 F8D1 0098       ldr              VLO, [VB1, #(4*(32 + 6))]
   63 0000011C F1CE 0E00       rsb              CF2, CF2, #0
   64 00000120 FBC3 450E       smlal            SUM1LL, SUM1LH, VHI, CF2
   65 00000124 F8D1 30C4       ldr              VHI, [VB1, #(4*(32 + 23 - 6))]
   66 00000128         
   67 00000128 FBC0 890C       smlal            SUM1RL, SUM1RH, VLO, CF1
   68 0000012C FBC3 890E       smlal            SUM1RL, SUM1RH, VHI, CF2
   69 00000130         
  137 00000130                 MC0S             7
   55 00000130         
   56 00000130 F852 CB04       ldr              CF1, [COEF], #4
   57 00000134 F852 EB04       ldr              CF2, [COEF], #4
   58 00000138 69C8            ldr              VLO, [VB1, #(4*(7))]
   59 0000013A 6C0B            ldr              VHI, [VB1, #(4*(23 - 7))]
   60 0000013C         
   61 0000013C FBC0 450C       smlal            SUM1LL, SUM1LH, VLO, CF1
   62 00000140 F8D1 009C       ldr              VLO, [VB1, #(4*(32 + 7))]
   63 00000144 F1CE 0E00       rsb              CF2, CF2, #0
   64 00000148 FBC3 450E       smlal            SUM1LL, SUM1LH, VHI, CF2
   65 0000014C F8D1 30C0       ldr              VHI, [VB1, #(4*(32 + 23 - 7))]
   66 00000150         
   67 00000150 FBC0 890C       smlal            SUM1RL, SUM1RH, VLO, CF1
   68 00000154 FBC3 890E       smlal            SUM1RL, SUM1RH, VHI, CF2
   69 00000158         
  138 00000158         
  139 00000158 9801            ldr              PCM, [sp, #4] 
                                                            ; load pcm pointer
  140 0000015A F44F 4EFE       mov              MAXPOS, #0x7f00
  141 0000015E F04E 0EFF       orr              MAXPOS, MAXPOS, #0xff
  142 00000162         
  143 00000162                 C64TOS           SUM1LL, SUM1LH, SIGN, MAXPOS



ARM Macro Assembler    Page 6 


   42 00000162         
   43 00000162 EA4F 6494       mov              SUM1LL, SUM1LL, lsr #(20+6)
   44 00000166 EA44 1485       orr              SUM1LL, SUM1LL, SUM1LH, lsl #(1
2-6)
   45 0000016A EA4F 7CE4       mov              SIGN, SUM1LL, ASR #31
   46 0000016E EBBC 3FE4       cmp              SIGN, SUM1LL, ASR #15
   47 00000172 BF18            it               ne
   48 00000174 EA8C 040E       eorne            SUM1LL, SIGN, MAXPOS
  144 00000178                 C64TOS           SUM1RL, SUM1RH, SIGN, MAXPOS
   42 00000178         
   43 00000178 EA4F 6898       mov              SUM1RL, SUM1RL, lsr #(20+6)
   44 0000017C EA48 1889       orr              SUM1RL, SUM1RL, SUM1RH, lsl #(1
2-6)
   45 00000180 EA4F 7CE8       mov              SIGN, SUM1RL, ASR #31
   46 00000184 EBBC 3FE8       cmp              SIGN, SUM1RL, ASR #15
   47 00000188 BF18            it               ne
   48 0000018A EA8C 080E       eorne            SUM1RL, SIGN, MAXPOS
  145 0000018E         
  146 0000018E 8004            strh             SUM1LL, [PCM, #(2*0)]
  147 00000190 F8A0 8002       strh             SUM1RL, [PCM, #(2*1)]
  148 00000194         
  149 00000194         ; special case, output sample 16
  150 00000194 F502 7270       add              COEF, COEF, #(4*(256-16)) ; coe
                                                            f = coefBase + 256 
                                                            (was coefBase + 16 
                                                            after MC0S block)
  151 00000198 F501 5180       add              VB1, VB1, #(4*1024) ; vb1 = vbu
                                                            f + 64*16
  152 0000019C         
  153 0000019C F04F 7400       mov              SUM1LL, #RNDVAL ; load rndVal (
                                                            low 32)
  154 000001A0 F04F 7800       mov              SUM1RL, #RNDVAL ; load rndVal (
                                                            low 32)
  155 000001A4 F04F 0500       mov              SUM1LH, #0
  156 000001A8 F04F 0900       mov              SUM1RH, #0
  157 000001AC         
  158 000001AC                 MC1S             0
   76 000001AC         
   77 000001AC F852 CB04       ldr              CF1, [COEF], #4
   78 000001B0 6808            ldr              VLO, [VB1, #(4*(0))]
   79 000001B2 F8D1 3080       ldr              VHI, [VB1, #(4*(32 + 0))]
   80 000001B6 FBC0 450C       smlal            SUM1LL, SUM1LH, VLO, CF1
   81 000001BA FBC3 890C       smlal            SUM1RL, SUM1RH, VHI, CF1
   82 000001BE         
  159 000001BE                 MC1S             1
   76 000001BE         
   77 000001BE F852 CB04       ldr              CF1, [COEF], #4
   78 000001C2 6848            ldr              VLO, [VB1, #(4*(1))]
   79 000001C4 F8D1 3084       ldr              VHI, [VB1, #(4*(32 + 1))]
   80 000001C8 FBC0 450C       smlal            SUM1LL, SUM1LH, VLO, CF1
   81 000001CC FBC3 890C       smlal            SUM1RL, SUM1RH, VHI, CF1
   82 000001D0         
  160 000001D0                 MC1S             2
   76 000001D0         
   77 000001D0 F852 CB04       ldr              CF1, [COEF], #4
   78 000001D4 6888            ldr              VLO, [VB1, #(4*(2))]
   79 000001D6 F8D1 3088       ldr              VHI, [VB1, #(4*(32 + 2))]
   80 000001DA FBC0 450C       smlal            SUM1LL, SUM1LH, VLO, CF1
   81 000001DE FBC3 890C       smlal            SUM1RL, SUM1RH, VHI, CF1



ARM Macro Assembler    Page 7 


   82 000001E2         
  161 000001E2                 MC1S             3
   76 000001E2         
   77 000001E2 F852 CB04       ldr              CF1, [COEF], #4
   78 000001E6 68C8            ldr              VLO, [VB1, #(4*(3))]
   79 000001E8 F8D1 308C       ldr              VHI, [VB1, #(4*(32 + 3))]
   80 000001EC FBC0 450C       smlal            SUM1LL, SUM1LH, VLO, CF1
   81 000001F0 FBC3 890C       smlal            SUM1RL, SUM1RH, VHI, CF1
   82 000001F4         
  162 000001F4                 MC1S             4
   76 000001F4         
   77 000001F4 F852 CB04       ldr              CF1, [COEF], #4
   78 000001F8 6908            ldr              VLO, [VB1, #(4*(4))]
   79 000001FA F8D1 3090       ldr              VHI, [VB1, #(4*(32 + 4))]
   80 000001FE FBC0 450C       smlal            SUM1LL, SUM1LH, VLO, CF1
   81 00000202 FBC3 890C       smlal            SUM1RL, SUM1RH, VHI, CF1
   82 00000206         
  163 00000206                 MC1S             5
   76 00000206         
   77 00000206 F852 CB04       ldr              CF1, [COEF], #4
   78 0000020A 6948            ldr              VLO, [VB1, #(4*(5))]
   79 0000020C F8D1 3094       ldr              VHI, [VB1, #(4*(32 + 5))]
   80 00000210 FBC0 450C       smlal            SUM1LL, SUM1LH, VLO, CF1
   81 00000214 FBC3 890C       smlal            SUM1RL, SUM1RH, VHI, CF1
   82 00000218         
  164 00000218                 MC1S             6
   76 00000218         
   77 00000218 F852 CB04       ldr              CF1, [COEF], #4
   78 0000021C 6988            ldr              VLO, [VB1, #(4*(6))]
   79 0000021E F8D1 3098       ldr              VHI, [VB1, #(4*(32 + 6))]
   80 00000222 FBC0 450C       smlal            SUM1LL, SUM1LH, VLO, CF1
   81 00000226 FBC3 890C       smlal            SUM1RL, SUM1RH, VHI, CF1
   82 0000022A         
  165 0000022A                 MC1S             7
   76 0000022A         
   77 0000022A F852 CB04       ldr              CF1, [COEF], #4
   78 0000022E 69C8            ldr              VLO, [VB1, #(4*(7))]
   79 00000230 F8D1 309C       ldr              VHI, [VB1, #(4*(32 + 7))]
   80 00000234 FBC0 450C       smlal            SUM1LL, SUM1LH, VLO, CF1
   81 00000238 FBC3 890C       smlal            SUM1RL, SUM1RH, VHI, CF1
   82 0000023C         
  166 0000023C         
  167 0000023C 9801            ldr              PCM, [sp, #4] 
                                                            ; load pcm pointer
  168 0000023E F44F 4EFE       mov              MAXPOS, #0x7f00
  169 00000242 F04E 0EFF       orr              MAXPOS, MAXPOS, #0xff
  170 00000246         
  171 00000246                 C64TOS           SUM1LL, SUM1LH, SIGN, MAXPOS
   42 00000246         
   43 00000246 EA4F 6494       mov              SUM1LL, SUM1LL, lsr #(20+6)
   44 0000024A EA44 1485       orr              SUM1LL, SUM1LL, SUM1LH, lsl #(1
2-6)
   45 0000024E EA4F 7CE4       mov              SIGN, SUM1LL, ASR #31
   46 00000252 EBBC 3FE4       cmp              SIGN, SUM1LL, ASR #15
   47 00000256 BF18            it               ne
   48 00000258 EA8C 040E       eorne            SUM1LL, SIGN, MAXPOS
  172 0000025C                 C64TOS           SUM1RL, SUM1RH, SIGN, MAXPOS
   42 0000025C         
   43 0000025C EA4F 6898       mov              SUM1RL, SUM1RL, lsr #(20+6)



ARM Macro Assembler    Page 8 


   44 00000260 EA48 1889       orr              SUM1RL, SUM1RL, SUM1RH, lsl #(1
2-6)
   45 00000264 EA4F 7CE8       mov              SIGN, SUM1RL, ASR #31
   46 00000268 EBBC 3FE8       cmp              SIGN, SUM1RL, ASR #15
   47 0000026C BF18            it               ne
   48 0000026E EA8C 080E       eorne            SUM1RL, SIGN, MAXPOS
  173 00000272         
  174 00000272 F8A0 4040       strh             SUM1LL, [PCM, #(2*(2*16+0))]
  175 00000276 F8A0 8042       strh             SUM1RL, [PCM, #(2*(2*16+1))]
  176 0000027A         
  177 0000027A         ; main convolution loop: sum1L = samples 1, 2, 3, ... 15
                        sum2L = samples 31, 30, ... 17
  178 0000027A F5A2 7278       sub              COEF, COEF, #(4*(264-16)) ; coe
                                                            f = coefBase + 16 (
                                                            was coefBase + 264 
                                                            after MC1S block)
  179 0000027E F5A1 6170       sub              VB1, VB1, #(4*(1024-64)) ; vb1 
                                                            = vbuf + 64 (was vb
                                                            uf + 64*16 after MC
                                                            1S block)
  180 00000282 F04F 0C0F       mov              I, #15      ; loop counter, cou
                                                            nt down
  181 00000286 F100 0004       add              PCM, PCM, #(2*2) ; pcm+=2
  182 0000028A         
  183 0000028A         LoopPS
  184 0000028A F8CD C000       str              I, [sp, #0] ; sp[0] = i (loop c
                                                            ounter)
  185 0000028E 9001            str              PCM, [sp, #4] ; sp[1] = pcm (po
                                                            inter to pcm buffer
                                                            )
  186 00000290         
  187 00000290 F04F 7400       mov              SUM1LL, #RNDVAL ; load rndVal (
                                                            low 32)
  188 00000294 F04F 7800       mov              SUM1RL, #RNDVAL ; load rndVal (
                                                            low 32)
  189 00000298 F04F 7600       mov              SUM2LL, #RNDVAL ; load rndVal (
                                                            low 32)
  190 0000029C F04F 7A00       mov              SUM2RL, #RNDVAL ; load rndVal (
                                                            low 32)
  191 000002A0         
  192 000002A0 F04F 0500       mov              SUM1LH, #0
  193 000002A4 F04F 0900       mov              SUM1RH, #0
  194 000002A8 F04F 0700       mov              SUM2LH, #0
  195 000002AC F04F 0B00       mov              SUM2RH, #0
  196 000002B0         
  197 000002B0                 MC2S             0
   89 000002B0         
   90 000002B0         ; load data as far as possible in advance of using it
   91 000002B0 F852 CB04       ldr              CF1, [COEF], #4
   92 000002B4 F852 EB04       ldr              CF2, [COEF], #4
   93 000002B8 6808            ldr              VLO, [VB1, #(4*(0))]
   94 000002BA 6DCB            ldr              VHI, [VB1, #(4*(23 - 0))]
   95 000002BC         
   96 000002BC FBC0 450C       smlal            SUM1LL, SUM1LH, VLO, CF1
   97 000002C0 FBC0 670E       smlal            SUM2LL, SUM2LH, VLO, CF2
   98 000002C4 F1CE 0E00       rsb              CF2, CF2, #0
   99 000002C8 FBC3 670C       smlal            SUM2LL, SUM2LH, VHI, CF1
  100 000002CC FBC3 450E       smlal            SUM1LL, SUM1LH, VHI, CF2
  101 000002D0         



ARM Macro Assembler    Page 9 


  102 000002D0 F8D1 30DC       ldr              VHI, [VB1, #(4*(32 + 23 - 0))]
  103 000002D4 F8D1 0080       ldr              VLO, [VB1, #(4*(32 + 0))]
  104 000002D8         
  105 000002D8 FBC3 890E       smlal            SUM1RL, SUM1RH, VHI, CF2
  106 000002DC FBC3 AB0C       smlal            SUM2RL, SUM2RH, VHI, CF1
  107 000002E0 F1CE 0E00       rsb              CF2, CF2, #0
  108 000002E4 FBC0 890C       smlal            SUM1RL, SUM1RH, VLO, CF1
  109 000002E8 FBC0 AB0E       smlal            SUM2RL, SUM2RH, VLO, CF2
  110 000002EC         
  198 000002EC                 MC2S             1
   89 000002EC         
   90 000002EC         ; load data as far as possible in advance of using it
   91 000002EC F852 CB04       ldr              CF1, [COEF], #4
   92 000002F0 F852 EB04       ldr              CF2, [COEF], #4
   93 000002F4 6848            ldr              VLO, [VB1, #(4*(1))]
   94 000002F6 6D8B            ldr              VHI, [VB1, #(4*(23 - 1))]
   95 000002F8         
   96 000002F8 FBC0 450C       smlal            SUM1LL, SUM1LH, VLO, CF1
   97 000002FC FBC0 670E       smlal            SUM2LL, SUM2LH, VLO, CF2
   98 00000300 F1CE 0E00       rsb              CF2, CF2, #0
   99 00000304 FBC3 670C       smlal            SUM2LL, SUM2LH, VHI, CF1
  100 00000308 FBC3 450E       smlal            SUM1LL, SUM1LH, VHI, CF2
  101 0000030C         
  102 0000030C F8D1 30D8       ldr              VHI, [VB1, #(4*(32 + 23 - 1))]
  103 00000310 F8D1 0084       ldr              VLO, [VB1, #(4*(32 + 1))]
  104 00000314         
  105 00000314 FBC3 890E       smlal            SUM1RL, SUM1RH, VHI, CF2
  106 00000318 FBC3 AB0C       smlal            SUM2RL, SUM2RH, VHI, CF1
  107 0000031C F1CE 0E00       rsb              CF2, CF2, #0
  108 00000320 FBC0 890C       smlal            SUM1RL, SUM1RH, VLO, CF1
  109 00000324 FBC0 AB0E       smlal            SUM2RL, SUM2RH, VLO, CF2
  110 00000328         
  199 00000328                 MC2S             2
   89 00000328         
   90 00000328         ; load data as far as possible in advance of using it
   91 00000328 F852 CB04       ldr              CF1, [COEF], #4
   92 0000032C F852 EB04       ldr              CF2, [COEF], #4
   93 00000330 6888            ldr              VLO, [VB1, #(4*(2))]
   94 00000332 6D4B            ldr              VHI, [VB1, #(4*(23 - 2))]
   95 00000334         
   96 00000334 FBC0 450C       smlal            SUM1LL, SUM1LH, VLO, CF1
   97 00000338 FBC0 670E       smlal            SUM2LL, SUM2LH, VLO, CF2
   98 0000033C F1CE 0E00       rsb              CF2, CF2, #0
   99 00000340 FBC3 670C       smlal            SUM2LL, SUM2LH, VHI, CF1
  100 00000344 FBC3 450E       smlal            SUM1LL, SUM1LH, VHI, CF2
  101 00000348         
  102 00000348 F8D1 30D4       ldr              VHI, [VB1, #(4*(32 + 23 - 2))]
  103 0000034C F8D1 0088       ldr              VLO, [VB1, #(4*(32 + 2))]
  104 00000350         
  105 00000350 FBC3 890E       smlal            SUM1RL, SUM1RH, VHI, CF2
  106 00000354 FBC3 AB0C       smlal            SUM2RL, SUM2RH, VHI, CF1
  107 00000358 F1CE 0E00       rsb              CF2, CF2, #0
  108 0000035C FBC0 890C       smlal            SUM1RL, SUM1RH, VLO, CF1
  109 00000360 FBC0 AB0E       smlal            SUM2RL, SUM2RH, VLO, CF2
  110 00000364         
  200 00000364                 MC2S             3
   89 00000364         
   90 00000364         ; load data as far as possible in advance of using it
   91 00000364 F852 CB04       ldr              CF1, [COEF], #4



ARM Macro Assembler    Page 10 


   92 00000368 F852 EB04       ldr              CF2, [COEF], #4
   93 0000036C 68C8            ldr              VLO, [VB1, #(4*(3))]
   94 0000036E 6D0B            ldr              VHI, [VB1, #(4*(23 - 3))]
   95 00000370         
   96 00000370 FBC0 450C       smlal            SUM1LL, SUM1LH, VLO, CF1
   97 00000374 FBC0 670E       smlal            SUM2LL, SUM2LH, VLO, CF2
   98 00000378 F1CE 0E00       rsb              CF2, CF2, #0
   99 0000037C FBC3 670C       smlal            SUM2LL, SUM2LH, VHI, CF1
  100 00000380 FBC3 450E       smlal            SUM1LL, SUM1LH, VHI, CF2
  101 00000384         
  102 00000384 F8D1 30D0       ldr              VHI, [VB1, #(4*(32 + 23 - 3))]
  103 00000388 F8D1 008C       ldr              VLO, [VB1, #(4*(32 + 3))]
  104 0000038C         
  105 0000038C FBC3 890E       smlal            SUM1RL, SUM1RH, VHI, CF2
  106 00000390 FBC3 AB0C       smlal            SUM2RL, SUM2RH, VHI, CF1
  107 00000394 F1CE 0E00       rsb              CF2, CF2, #0
  108 00000398 FBC0 890C       smlal            SUM1RL, SUM1RH, VLO, CF1
  109 0000039C FBC0 AB0E       smlal            SUM2RL, SUM2RH, VLO, CF2
  110 000003A0         
  201 000003A0                 MC2S             4
   89 000003A0         
   90 000003A0         ; load data as far as possible in advance of using it
   91 000003A0 F852 CB04       ldr              CF1, [COEF], #4
   92 000003A4 F852 EB04       ldr              CF2, [COEF], #4
   93 000003A8 6908            ldr              VLO, [VB1, #(4*(4))]
   94 000003AA 6CCB            ldr              VHI, [VB1, #(4*(23 - 4))]
   95 000003AC         
   96 000003AC FBC0 450C       smlal            SUM1LL, SUM1LH, VLO, CF1
   97 000003B0 FBC0 670E       smlal            SUM2LL, SUM2LH, VLO, CF2
   98 000003B4 F1CE 0E00       rsb              CF2, CF2, #0
   99 000003B8 FBC3 670C       smlal            SUM2LL, SUM2LH, VHI, CF1
  100 000003BC FBC3 450E       smlal            SUM1LL, SUM1LH, VHI, CF2
  101 000003C0         
  102 000003C0 F8D1 30CC       ldr              VHI, [VB1, #(4*(32 + 23 - 4))]
  103 000003C4 F8D1 0090       ldr              VLO, [VB1, #(4*(32 + 4))]
  104 000003C8         
  105 000003C8 FBC3 890E       smlal            SUM1RL, SUM1RH, VHI, CF2
  106 000003CC FBC3 AB0C       smlal            SUM2RL, SUM2RH, VHI, CF1
  107 000003D0 F1CE 0E00       rsb              CF2, CF2, #0
  108 000003D4 FBC0 890C       smlal            SUM1RL, SUM1RH, VLO, CF1
  109 000003D8 FBC0 AB0E       smlal            SUM2RL, SUM2RH, VLO, CF2
  110 000003DC         
  202 000003DC                 MC2S             5
   89 000003DC         
   90 000003DC         ; load data as far as possible in advance of using it
   91 000003DC F852 CB04       ldr              CF1, [COEF], #4
   92 000003E0 F852 EB04       ldr              CF2, [COEF], #4
   93 000003E4 6948            ldr              VLO, [VB1, #(4*(5))]
   94 000003E6 6C8B            ldr              VHI, [VB1, #(4*(23 - 5))]
   95 000003E8         
   96 000003E8 FBC0 450C       smlal            SUM1LL, SUM1LH, VLO, CF1
   97 000003EC FBC0 670E       smlal            SUM2LL, SUM2LH, VLO, CF2
   98 000003F0 F1CE 0E00       rsb              CF2, CF2, #0
   99 000003F4 FBC3 670C       smlal            SUM2LL, SUM2LH, VHI, CF1
  100 000003F8 FBC3 450E       smlal            SUM1LL, SUM1LH, VHI, CF2
  101 000003FC         
  102 000003FC F8D1 30C8       ldr              VHI, [VB1, #(4*(32 + 23 - 5))]
  103 00000400 F8D1 0094       ldr              VLO, [VB1, #(4*(32 + 5))]
  104 00000404         



ARM Macro Assembler    Page 11 


  105 00000404 FBC3 890E       smlal            SUM1RL, SUM1RH, VHI, CF2
  106 00000408 FBC3 AB0C       smlal            SUM2RL, SUM2RH, VHI, CF1
  107 0000040C F1CE 0E00       rsb              CF2, CF2, #0
  108 00000410 FBC0 890C       smlal            SUM1RL, SUM1RH, VLO, CF1
  109 00000414 FBC0 AB0E       smlal            SUM2RL, SUM2RH, VLO, CF2
  110 00000418         
  203 00000418                 MC2S             6
   89 00000418         
   90 00000418         ; load data as far as possible in advance of using it
   91 00000418 F852 CB04       ldr              CF1, [COEF], #4
   92 0000041C F852 EB04       ldr              CF2, [COEF], #4
   93 00000420 6988            ldr              VLO, [VB1, #(4*(6))]
   94 00000422 6C4B            ldr              VHI, [VB1, #(4*(23 - 6))]
   95 00000424         
   96 00000424 FBC0 450C       smlal            SUM1LL, SUM1LH, VLO, CF1
   97 00000428 FBC0 670E       smlal            SUM2LL, SUM2LH, VLO, CF2
   98 0000042C F1CE 0E00       rsb              CF2, CF2, #0
   99 00000430 FBC3 670C       smlal            SUM2LL, SUM2LH, VHI, CF1
  100 00000434 FBC3 450E       smlal            SUM1LL, SUM1LH, VHI, CF2
  101 00000438         
  102 00000438 F8D1 30C4       ldr              VHI, [VB1, #(4*(32 + 23 - 6))]
  103 0000043C F8D1 0098       ldr              VLO, [VB1, #(4*(32 + 6))]
  104 00000440         
  105 00000440 FBC3 890E       smlal            SUM1RL, SUM1RH, VHI, CF2
  106 00000444 FBC3 AB0C       smlal            SUM2RL, SUM2RH, VHI, CF1
  107 00000448 F1CE 0E00       rsb              CF2, CF2, #0
  108 0000044C FBC0 890C       smlal            SUM1RL, SUM1RH, VLO, CF1
  109 00000450 FBC0 AB0E       smlal            SUM2RL, SUM2RH, VLO, CF2
  110 00000454         
  204 00000454                 MC2S             7
   89 00000454         
   90 00000454         ; load data as far as possible in advance of using it
   91 00000454 F852 CB04       ldr              CF1, [COEF], #4
   92 00000458 F852 EB04       ldr              CF2, [COEF], #4
   93 0000045C 69C8            ldr              VLO, [VB1, #(4*(7))]
   94 0000045E 6C0B            ldr              VHI, [VB1, #(4*(23 - 7))]
   95 00000460         
   96 00000460 FBC0 450C       smlal            SUM1LL, SUM1LH, VLO, CF1
   97 00000464 FBC0 670E       smlal            SUM2LL, SUM2LH, VLO, CF2
   98 00000468 F1CE 0E00       rsb              CF2, CF2, #0
   99 0000046C FBC3 670C       smlal            SUM2LL, SUM2LH, VHI, CF1
  100 00000470 FBC3 450E       smlal            SUM1LL, SUM1LH, VHI, CF2
  101 00000474         
  102 00000474 F8D1 30C0       ldr              VHI, [VB1, #(4*(32 + 23 - 7))]
  103 00000478 F8D1 009C       ldr              VLO, [VB1, #(4*(32 + 7))]
  104 0000047C         
  105 0000047C FBC3 890E       smlal            SUM1RL, SUM1RH, VHI, CF2
  106 00000480 FBC3 AB0C       smlal            SUM2RL, SUM2RH, VHI, CF1
  107 00000484 F1CE 0E00       rsb              CF2, CF2, #0
  108 00000488 FBC0 890C       smlal            SUM1RL, SUM1RH, VLO, CF1
  109 0000048C FBC0 AB0E       smlal            SUM2RL, SUM2RH, VLO, CF2
  110 00000490         
  205 00000490         
  206 00000490 F501 7180       add              VB1, VB1, #(4*64) ; vb1 += 64
  207 00000494         
  208 00000494 9801            ldr              PCM, [sp, #4] 
                                                            ; load pcm pointer
  209 00000496 F44F 4EFE       mov              MAXPOS, #0x7f00
  210 0000049A F04E 0EFF       orr              MAXPOS, MAXPOS, #0xff



ARM Macro Assembler    Page 12 


  211 0000049E         
  212 0000049E                 C64TOS           SUM1LL, SUM1LH, SIGN, MAXPOS
   42 0000049E         
   43 0000049E EA4F 6494       mov              SUM1LL, SUM1LL, lsr #(20+6)
   44 000004A2 EA44 1485       orr              SUM1LL, SUM1LL, SUM1LH, lsl #(1
2-6)
   45 000004A6 EA4F 7CE4       mov              SIGN, SUM1LL, ASR #31
   46 000004AA EBBC 3FE4       cmp              SIGN, SUM1LL, ASR #15
   47 000004AE BF18            it               ne
   48 000004B0 EA8C 040E       eorne            SUM1LL, SIGN, MAXPOS
  213 000004B4                 C64TOS           SUM1RL, SUM1RH, SIGN, MAXPOS
   42 000004B4         
   43 000004B4 EA4F 6898       mov              SUM1RL, SUM1RL, lsr #(20+6)
   44 000004B8 EA48 1889       orr              SUM1RL, SUM1RL, SUM1RH, lsl #(1
2-6)
   45 000004BC EA4F 7CE8       mov              SIGN, SUM1RL, ASR #31
   46 000004C0 EBBC 3FE8       cmp              SIGN, SUM1RL, ASR #15
   47 000004C4 BF18            it               ne
   48 000004C6 EA8C 080E       eorne            SUM1RL, SIGN, MAXPOS
  214 000004CA                 C64TOS           SUM2LL, SUM2LH, SIGN, MAXPOS
   42 000004CA         
   43 000004CA EA4F 6696       mov              SUM2LL, SUM2LL, lsr #(20+6)
   44 000004CE EA46 1687       orr              SUM2LL, SUM2LL, SUM2LH, lsl #(1
2-6)
   45 000004D2 EA4F 7CE6       mov              SIGN, SUM2LL, ASR #31
   46 000004D6 EBBC 3FE6       cmp              SIGN, SUM2LL, ASR #15
   47 000004DA BF18            it               ne
   48 000004DC EA8C 060E       eorne            SUM2LL, SIGN, MAXPOS
  215 000004E0                 C64TOS           SUM2RL, SUM2RH, SIGN, MAXPOS
   42 000004E0         
   43 000004E0 EA4F 6A9A       mov              SUM2RL, SUM2RL, lsr #(20+6)
   44 000004E4 EA4A 1A8B       orr              SUM2RL, SUM2RL, SUM2RH, lsl #(1
2-6)
   45 000004E8 EA4F 7CEA       mov              SIGN, SUM2RL, ASR #31
   46 000004EC EBBC 3FEA       cmp              SIGN, SUM2RL, ASR #15
   47 000004F0 BF18            it               ne
   48 000004F2 EA8C 0A0E       eorne            SUM2RL, SIGN, MAXPOS
  216 000004F6         
  217 000004F6 F8DD C000       ldr              I, [sp, #0] ; load loop counter
                                                            
  218 000004FA EB00 0ECC       add              CF2, PCM, I, lsl #3 ; CF2 = PCM
                                                             + 4*i (short offse
                                                            t)
  219 000004FE F82E 6B02       strh             SUM2LL, [CF2], #2 ; *(pcm + 2*2
                                                            *i + 0)
  220 00000502 F82E AB02       strh             SUM2RL, [CF2], #2 ; *(pcm + 2*2
                                                            *i + 1)
  221 00000506         
  222 00000506 F820 4B02       strh             SUM1LL, [PCM], #2 ; *(pcm + 0)
  223 0000050A F820 8B02       strh             SUM1RL, [PCM], #2 ; *(pcm + 1)
  224 0000050E         
  225 0000050E F1BC 0C01       subs             I, I, #1
  226 00000512 F47F AEBA       bne              LoopPS
  227 00000516         
  228 00000516         ; restore stack pointer
  229 00000516 B002            add              sp, sp, #8
  230 00000518         
  231 00000518 E8BD 8FF0       ldmfd            sp!, {r4-r11, pc}
  232 0000051C         



ARM Macro Assembler    Page 13 


  233 0000051C                 ENDP
  234 0000051C         
  235 0000051C         ; MONO PROCESSING
  236 0000051C         
  237 0000051C         ; MC0M - process 2 taps, 1 sample (sample 0)
  238 0000051C         ; x = vb1 offset
  239 0000051C                 MACRO
  240 0000051C                 MC0M             $x
  241 0000051C         
  242 0000051C                 ldr              CF1, [COEF], #4
  243 0000051C                 ldr              CF2, [COEF], #4
  244 0000051C                 ldr              VLO, [VB1, #(4*($x))]
  245 0000051C                 ldr              VHI, [VB1, #(4*(23 - $x))]
  246 0000051C         
  247 0000051C                 rsb              CF2, CF2, #0
  248 0000051C                 smlal            SUM1LL, SUM1LH, VLO, CF1
  249 0000051C                 smlal            SUM1LL, SUM1LH, VHI, CF2
  250 0000051C         
  251 0000051C                 MEND                         ; MC0M
  252 0000051C         
  253 0000051C         ; MC1M - process 2 taps, 1 sample (sample 16)
  254 0000051C         ; x = vb1 offset
  255 0000051C                 MACRO
  256 0000051C                 MC1M             $x
  257 0000051C         
  258 0000051C                 ldr              CF1, [COEF], #4
  259 0000051C                 ldr              VLO, [VB1, #(4*($x))]
  260 0000051C                 smlal            SUM1LL, SUM1LH, VLO, CF1
  261 0000051C         
  262 0000051C                 MEND                         ; MC1M
  263 0000051C         
  264 0000051C         ; MC2M - process 2 taps, 2 samples
  265 0000051C         ; x = vb1 offset
  266 0000051C                 MACRO
  267 0000051C                 MC2M             $x
  268 0000051C         
  269 0000051C         ; load data as far as possible in advance of using it
  270 0000051C                 ldr              CF1, [COEF], #4
  271 0000051C                 ldr              CF2, [COEF], #4
  272 0000051C                 ldr              VLO, [VB1, #(4*($x))]
  273 0000051C                 ldr              VHI, [VB1, #(4*(23 - $x))]
  274 0000051C         
  275 0000051C                 smlal            SUM1LL, SUM1LH, VLO, CF1
  276 0000051C                 smlal            SUM2LL, SUM2LH, VLO, CF2
  277 0000051C                 rsb              CF2, CF2, #0
  278 0000051C                 smlal            SUM1LL, SUM1LH, VHI, CF2
  279 0000051C                 smlal            SUM2LL, SUM2LH, VHI, CF1
  280 0000051C         
  281 0000051C                 MEND                         ; MC2M
  282 0000051C         
  283 0000051C         ; void PolyphaseMono(short *pcm, int *vbuf, const int *c
                       oefBase)
  284 0000051C         
  285 0000051C         xmp3_PolyphaseMono
                               PROC
  286 0000051C                 EXPORT           xmp3_PolyphaseMono
  287 0000051C         
  288 0000051C E92D 4FF0       stmfd            sp!, {r4-r11, r14}
  289 00000520         



ARM Macro Assembler    Page 14 


  290 00000520         ; clear out stack space for 4 local variables (4 bytes e
                       ach)
  291 00000520 B082            sub              sp, sp, #8
  292 00000522 9001            str              PCM, [sp, #4] ; sp[1] = pcm poi
                                                            nter
  293 00000524         
  294 00000524         ; special case, output sample 0
  295 00000524 F04F 7400       mov              SUM1LL, #RNDVAL ; load rndVal (
                                                            low 32)
  296 00000528 F04F 0500       mov              SUM1LH, #0
  297 0000052C         
  298 0000052C                 MC0M             0
  241 0000052C         
  242 0000052C F852 CB04       ldr              CF1, [COEF], #4
  243 00000530 F852 EB04       ldr              CF2, [COEF], #4
  244 00000534 6808            ldr              VLO, [VB1, #(4*(0))]
  245 00000536 6DCB            ldr              VHI, [VB1, #(4*(23 - 0))]
  246 00000538         
  247 00000538 F1CE 0E00       rsb              CF2, CF2, #0
  248 0000053C FBC0 450C       smlal            SUM1LL, SUM1LH, VLO, CF1
  249 00000540 FBC3 450E       smlal            SUM1LL, SUM1LH, VHI, CF2
  250 00000544         
  299 00000544                 MC0M             1
  241 00000544         
  242 00000544 F852 CB04       ldr              CF1, [COEF], #4
  243 00000548 F852 EB04       ldr              CF2, [COEF], #4
  244 0000054C 6848            ldr              VLO, [VB1, #(4*(1))]
  245 0000054E 6D8B            ldr              VHI, [VB1, #(4*(23 - 1))]
  246 00000550         
  247 00000550 F1CE 0E00       rsb              CF2, CF2, #0
  248 00000554 FBC0 450C       smlal            SUM1LL, SUM1LH, VLO, CF1
  249 00000558 FBC3 450E       smlal            SUM1LL, SUM1LH, VHI, CF2
  250 0000055C         
  300 0000055C                 MC0M             2
  241 0000055C         
  242 0000055C F852 CB04       ldr              CF1, [COEF], #4
  243 00000560 F852 EB04       ldr              CF2, [COEF], #4
  244 00000564 6888            ldr              VLO, [VB1, #(4*(2))]
  245 00000566 6D4B            ldr              VHI, [VB1, #(4*(23 - 2))]
  246 00000568         
  247 00000568 F1CE 0E00       rsb              CF2, CF2, #0
  248 0000056C FBC0 450C       smlal            SUM1LL, SUM1LH, VLO, CF1
  249 00000570 FBC3 450E       smlal            SUM1LL, SUM1LH, VHI, CF2
  250 00000574         
  301 00000574                 MC0M             3
  241 00000574         
  242 00000574 F852 CB04       ldr              CF1, [COEF], #4
  243 00000578 F852 EB04       ldr              CF2, [COEF], #4
  244 0000057C 68C8            ldr              VLO, [VB1, #(4*(3))]
  245 0000057E 6D0B            ldr              VHI, [VB1, #(4*(23 - 3))]
  246 00000580         
  247 00000580 F1CE 0E00       rsb              CF2, CF2, #0
  248 00000584 FBC0 450C       smlal            SUM1LL, SUM1LH, VLO, CF1
  249 00000588 FBC3 450E       smlal            SUM1LL, SUM1LH, VHI, CF2
  250 0000058C         
  302 0000058C                 MC0M             4
  241 0000058C         
  242 0000058C F852 CB04       ldr              CF1, [COEF], #4
  243 00000590 F852 EB04       ldr              CF2, [COEF], #4



ARM Macro Assembler    Page 15 


  244 00000594 6908            ldr              VLO, [VB1, #(4*(4))]
  245 00000596 6CCB            ldr              VHI, [VB1, #(4*(23 - 4))]
  246 00000598         
  247 00000598 F1CE 0E00       rsb              CF2, CF2, #0
  248 0000059C FBC0 450C       smlal            SUM1LL, SUM1LH, VLO, CF1
  249 000005A0 FBC3 450E       smlal            SUM1LL, SUM1LH, VHI, CF2
  250 000005A4         
  303 000005A4                 MC0M             5
  241 000005A4         
  242 000005A4 F852 CB04       ldr              CF1, [COEF], #4
  243 000005A8 F852 EB04       ldr              CF2, [COEF], #4
  244 000005AC 6948            ldr              VLO, [VB1, #(4*(5))]
  245 000005AE 6C8B            ldr              VHI, [VB1, #(4*(23 - 5))]
  246 000005B0         
  247 000005B0 F1CE 0E00       rsb              CF2, CF2, #0
  248 000005B4 FBC0 450C       smlal            SUM1LL, SUM1LH, VLO, CF1
  249 000005B8 FBC3 450E       smlal            SUM1LL, SUM1LH, VHI, CF2
  250 000005BC         
  304 000005BC                 MC0M             6
  241 000005BC         
  242 000005BC F852 CB04       ldr              CF1, [COEF], #4
  243 000005C0 F852 EB04       ldr              CF2, [COEF], #4
  244 000005C4 6988            ldr              VLO, [VB1, #(4*(6))]
  245 000005C6 6C4B            ldr              VHI, [VB1, #(4*(23 - 6))]
  246 000005C8         
  247 000005C8 F1CE 0E00       rsb              CF2, CF2, #0
  248 000005CC FBC0 450C       smlal            SUM1LL, SUM1LH, VLO, CF1
  249 000005D0 FBC3 450E       smlal            SUM1LL, SUM1LH, VHI, CF2
  250 000005D4         
  305 000005D4                 MC0M             7
  241 000005D4         
  242 000005D4 F852 CB04       ldr              CF1, [COEF], #4
  243 000005D8 F852 EB04       ldr              CF2, [COEF], #4
  244 000005DC 69C8            ldr              VLO, [VB1, #(4*(7))]
  245 000005DE 6C0B            ldr              VHI, [VB1, #(4*(23 - 7))]
  246 000005E0         
  247 000005E0 F1CE 0E00       rsb              CF2, CF2, #0
  248 000005E4 FBC0 450C       smlal            SUM1LL, SUM1LH, VLO, CF1
  249 000005E8 FBC3 450E       smlal            SUM1LL, SUM1LH, VHI, CF2
  250 000005EC         
  306 000005EC         
  307 000005EC 9801            ldr              PCM, [sp, #4] 
                                                            ; load pcm pointer
  308 000005EE F44F 4EFE       mov              MAXPOS, #0x7f00
  309 000005F2 F04E 0EFF       orr              MAXPOS, MAXPOS, #0xff
  310 000005F6         
  311 000005F6                 C64TOS           SUM1LL, SUM1LH, SIGN, MAXPOS
   42 000005F6         
   43 000005F6 EA4F 6494       mov              SUM1LL, SUM1LL, lsr #(20+6)
   44 000005FA EA44 1485       orr              SUM1LL, SUM1LL, SUM1LH, lsl #(1
2-6)
   45 000005FE EA4F 7CE4       mov              SIGN, SUM1LL, ASR #31
   46 00000602 EBBC 3FE4       cmp              SIGN, SUM1LL, ASR #15
   47 00000606 BF18            it               ne
   48 00000608 EA8C 040E       eorne            SUM1LL, SIGN, MAXPOS
  312 0000060C 8004            strh             SUM1LL, [PCM, #(2*0)]
  313 0000060E         
  314 0000060E         ; special case, output sample 16
  315 0000060E F502 7270       add              COEF, COEF, #(4*(256-16)) ; coe



ARM Macro Assembler    Page 16 


                                                            f = coefBase + 256 
                                                            (was coefBase + 16 
                                                            after MC0M block)
  316 00000612 F501 5180       add              VB1, VB1, #(4*1024) ; vb1 = vbu
                                                            f + 64*16
  317 00000616         
  318 00000616 F04F 7400       mov              SUM1LL, #RNDVAL ; load rndVal (
                                                            low 32)
  319 0000061A F04F 0500       mov              SUM1LH, #0
  320 0000061E         
  321 0000061E                 MC1M             0
  257 0000061E         
  258 0000061E F852 CB04       ldr              CF1, [COEF], #4
  259 00000622 6808            ldr              VLO, [VB1, #(4*(0))]
  260 00000624 FBC0 450C       smlal            SUM1LL, SUM1LH, VLO, CF1
  261 00000628         
  322 00000628                 MC1M             1
  257 00000628         
  258 00000628 F852 CB04       ldr              CF1, [COEF], #4
  259 0000062C 6848            ldr              VLO, [VB1, #(4*(1))]
  260 0000062E FBC0 450C       smlal            SUM1LL, SUM1LH, VLO, CF1
  261 00000632         
  323 00000632                 MC1M             2
  257 00000632         
  258 00000632 F852 CB04       ldr              CF1, [COEF], #4
  259 00000636 6888            ldr              VLO, [VB1, #(4*(2))]
  260 00000638 FBC0 450C       smlal            SUM1LL, SUM1LH, VLO, CF1
  261 0000063C         
  324 0000063C                 MC1M             3
  257 0000063C         
  258 0000063C F852 CB04       ldr              CF1, [COEF], #4
  259 00000640 68C8            ldr              VLO, [VB1, #(4*(3))]
  260 00000642 FBC0 450C       smlal            SUM1LL, SUM1LH, VLO, CF1
  261 00000646         
  325 00000646                 MC1M             4
  257 00000646         
  258 00000646 F852 CB04       ldr              CF1, [COEF], #4
  259 0000064A 6908            ldr              VLO, [VB1, #(4*(4))]
  260 0000064C FBC0 450C       smlal            SUM1LL, SUM1LH, VLO, CF1
  261 00000650         
  326 00000650                 MC1M             5
  257 00000650         
  258 00000650 F852 CB04       ldr              CF1, [COEF], #4
  259 00000654 6948            ldr              VLO, [VB1, #(4*(5))]
  260 00000656 FBC0 450C       smlal            SUM1LL, SUM1LH, VLO, CF1
  261 0000065A         
  327 0000065A                 MC1M             6
  257 0000065A         
  258 0000065A F852 CB04       ldr              CF1, [COEF], #4
  259 0000065E 6988            ldr              VLO, [VB1, #(4*(6))]
  260 00000660 FBC0 450C       smlal            SUM1LL, SUM1LH, VLO, CF1
  261 00000664         
  328 00000664                 MC1M             7
  257 00000664         
  258 00000664 F852 CB04       ldr              CF1, [COEF], #4
  259 00000668 69C8            ldr              VLO, [VB1, #(4*(7))]
  260 0000066A FBC0 450C       smlal            SUM1LL, SUM1LH, VLO, CF1
  261 0000066E         
  329 0000066E         



ARM Macro Assembler    Page 17 


  330 0000066E 9801            ldr              PCM, [sp, #4] 
                                                            ; load pcm pointer
  331 00000670 F44F 4EFE       mov              MAXPOS, #0x7f00
  332 00000674 F04E 0EFF       orr              MAXPOS, MAXPOS, #0xff
  333 00000678         
  334 00000678                 C64TOS           SUM1LL, SUM1LH, SIGN, MAXPOS
   42 00000678         
   43 00000678 EA4F 6494       mov              SUM1LL, SUM1LL, lsr #(20+6)
   44 0000067C EA44 1485       orr              SUM1LL, SUM1LL, SUM1LH, lsl #(1
2-6)
   45 00000680 EA4F 7CE4       mov              SIGN, SUM1LL, ASR #31
   46 00000684 EBBC 3FE4       cmp              SIGN, SUM1LL, ASR #15
   47 00000688 BF18            it               ne
   48 0000068A EA8C 040E       eorne            SUM1LL, SIGN, MAXPOS
  335 0000068E         
  336 0000068E 8404            strh             SUM1LL, [PCM, #(2*16)]
  337 00000690         
  338 00000690         ; main convolution loop: sum1L = samples 1, 2, 3, ... 15
                        sum2L = samples 31, 30, ... 17
  339 00000690 F5A2 7278       sub              COEF, COEF, #(4*(264-16)) ; coe
                                                            f = coefBase + 16 (
                                                            was coefBase + 264 
                                                            after MC1M block)
  340 00000694 F5A1 6170       sub              VB1, VB1, #(4*(1024-64)) ; vb1 
                                                            = vbuf + 64 (was vb
                                                            uf + 64*16 after MC
                                                            1M block)
  341 00000698 F04F 0C0F       mov              I, #15      ; loop counter, cou
                                                            nt down
  342 0000069C F100 0002       add              PCM, PCM, #(2) ; pcm++
  343 000006A0         
  344 000006A0         LoopPM
  345 000006A0 F8CD C000       str              I, [sp, #0] ; sp[0] = i (loop c
                                                            ounter)
  346 000006A4 9001            str              PCM, [sp, #4] ; sp[1] = pcm (po
                                                            inter to pcm buffer
                                                            )
  347 000006A6         
  348 000006A6 F04F 7400       mov              SUM1LL, #RNDVAL ; load rndVal (
                                                            low 32)
  349 000006AA F04F 7600       mov              SUM2LL, #RNDVAL ; load rndVal (
                                                            low 32)
  350 000006AE F04F 0500       mov              SUM1LH, #0
  351 000006B2 F04F 0700       mov              SUM2LH, #0
  352 000006B6         
  353 000006B6                 MC2M             0
  268 000006B6         
  269 000006B6         ; load data as far as possible in advance of using it
  270 000006B6 F852 CB04       ldr              CF1, [COEF], #4
  271 000006BA F852 EB04       ldr              CF2, [COEF], #4
  272 000006BE 6808            ldr              VLO, [VB1, #(4*(0))]
  273 000006C0 6DCB            ldr              VHI, [VB1, #(4*(23 - 0))]
  274 000006C2         
  275 000006C2 FBC0 450C       smlal            SUM1LL, SUM1LH, VLO, CF1
  276 000006C6 FBC0 670E       smlal            SUM2LL, SUM2LH, VLO, CF2
  277 000006CA F1CE 0E00       rsb              CF2, CF2, #0
  278 000006CE FBC3 450E       smlal            SUM1LL, SUM1LH, VHI, CF2
  279 000006D2 FBC3 670C       smlal            SUM2LL, SUM2LH, VHI, CF1
  280 000006D6         



ARM Macro Assembler    Page 18 


  354 000006D6                 MC2M             1
  268 000006D6         
  269 000006D6         ; load data as far as possible in advance of using it
  270 000006D6 F852 CB04       ldr              CF1, [COEF], #4
  271 000006DA F852 EB04       ldr              CF2, [COEF], #4
  272 000006DE 6848            ldr              VLO, [VB1, #(4*(1))]
  273 000006E0 6D8B            ldr              VHI, [VB1, #(4*(23 - 1))]
  274 000006E2         
  275 000006E2 FBC0 450C       smlal            SUM1LL, SUM1LH, VLO, CF1
  276 000006E6 FBC0 670E       smlal            SUM2LL, SUM2LH, VLO, CF2
  277 000006EA F1CE 0E00       rsb              CF2, CF2, #0
  278 000006EE FBC3 450E       smlal            SUM1LL, SUM1LH, VHI, CF2
  279 000006F2 FBC3 670C       smlal            SUM2LL, SUM2LH, VHI, CF1
  280 000006F6         
  355 000006F6                 MC2M             2
  268 000006F6         
  269 000006F6         ; load data as far as possible in advance of using it
  270 000006F6 F852 CB04       ldr              CF1, [COEF], #4
  271 000006FA F852 EB04       ldr              CF2, [COEF], #4
  272 000006FE 6888            ldr              VLO, [VB1, #(4*(2))]
  273 00000700 6D4B            ldr              VHI, [VB1, #(4*(23 - 2))]
  274 00000702         
  275 00000702 FBC0 450C       smlal            SUM1LL, SUM1LH, VLO, CF1
  276 00000706 FBC0 670E       smlal            SUM2LL, SUM2LH, VLO, CF2
  277 0000070A F1CE 0E00       rsb              CF2, CF2, #0
  278 0000070E FBC3 450E       smlal            SUM1LL, SUM1LH, VHI, CF2
  279 00000712 FBC3 670C       smlal            SUM2LL, SUM2LH, VHI, CF1
  280 00000716         
  356 00000716                 MC2M             3
  268 00000716         
  269 00000716         ; load data as far as possible in advance of using it
  270 00000716 F852 CB04       ldr              CF1, [COEF], #4
  271 0000071A F852 EB04       ldr              CF2, [COEF], #4
  272 0000071E 68C8            ldr              VLO, [VB1, #(4*(3))]
  273 00000720 6D0B            ldr              VHI, [VB1, #(4*(23 - 3))]
  274 00000722         
  275 00000722 FBC0 450C       smlal            SUM1LL, SUM1LH, VLO, CF1
  276 00000726 FBC0 670E       smlal            SUM2LL, SUM2LH, VLO, CF2
  277 0000072A F1CE 0E00       rsb              CF2, CF2, #0
  278 0000072E FBC3 450E       smlal            SUM1LL, SUM1LH, VHI, CF2
  279 00000732 FBC3 670C       smlal            SUM2LL, SUM2LH, VHI, CF1
  280 00000736         
  357 00000736                 MC2M             4
  268 00000736         
  269 00000736         ; load data as far as possible in advance of using it
  270 00000736 F852 CB04       ldr              CF1, [COEF], #4
  271 0000073A F852 EB04       ldr              CF2, [COEF], #4
  272 0000073E 6908            ldr              VLO, [VB1, #(4*(4))]
  273 00000740 6CCB            ldr              VHI, [VB1, #(4*(23 - 4))]
  274 00000742         
  275 00000742 FBC0 450C       smlal            SUM1LL, SUM1LH, VLO, CF1
  276 00000746 FBC0 670E       smlal            SUM2LL, SUM2LH, VLO, CF2
  277 0000074A F1CE 0E00       rsb              CF2, CF2, #0
  278 0000074E FBC3 450E       smlal            SUM1LL, SUM1LH, VHI, CF2
  279 00000752 FBC3 670C       smlal            SUM2LL, SUM2LH, VHI, CF1
  280 00000756         
  358 00000756                 MC2M             5
  268 00000756         
  269 00000756         ; load data as far as possible in advance of using it



ARM Macro Assembler    Page 19 


  270 00000756 F852 CB04       ldr              CF1, [COEF], #4
  271 0000075A F852 EB04       ldr              CF2, [COEF], #4
  272 0000075E 6948            ldr              VLO, [VB1, #(4*(5))]
  273 00000760 6C8B            ldr              VHI, [VB1, #(4*(23 - 5))]
  274 00000762         
  275 00000762 FBC0 450C       smlal            SUM1LL, SUM1LH, VLO, CF1
  276 00000766 FBC0 670E       smlal            SUM2LL, SUM2LH, VLO, CF2
  277 0000076A F1CE 0E00       rsb              CF2, CF2, #0
  278 0000076E FBC3 450E       smlal            SUM1LL, SUM1LH, VHI, CF2
  279 00000772 FBC3 670C       smlal            SUM2LL, SUM2LH, VHI, CF1
  280 00000776         
  359 00000776                 MC2M             6
  268 00000776         
  269 00000776         ; load data as far as possible in advance of using it
  270 00000776 F852 CB04       ldr              CF1, [COEF], #4
  271 0000077A F852 EB04       ldr              CF2, [COEF], #4
  272 0000077E 6988            ldr              VLO, [VB1, #(4*(6))]
  273 00000780 6C4B            ldr              VHI, [VB1, #(4*(23 - 6))]
  274 00000782         
  275 00000782 FBC0 450C       smlal            SUM1LL, SUM1LH, VLO, CF1
  276 00000786 FBC0 670E       smlal            SUM2LL, SUM2LH, VLO, CF2
  277 0000078A F1CE 0E00       rsb              CF2, CF2, #0
  278 0000078E FBC3 450E       smlal            SUM1LL, SUM1LH, VHI, CF2
  279 00000792 FBC3 670C       smlal            SUM2LL, SUM2LH, VHI, CF1
  280 00000796         
  360 00000796                 MC2M             7
  268 00000796         
  269 00000796         ; load data as far as possible in advance of using it
  270 00000796 F852 CB04       ldr              CF1, [COEF], #4
  271 0000079A F852 EB04       ldr              CF2, [COEF], #4
  272 0000079E 69C8            ldr              VLO, [VB1, #(4*(7))]
  273 000007A0 6C0B            ldr              VHI, [VB1, #(4*(23 - 7))]
  274 000007A2         
  275 000007A2 FBC0 450C       smlal            SUM1LL, SUM1LH, VLO, CF1
  276 000007A6 FBC0 670E       smlal            SUM2LL, SUM2LH, VLO, CF2
  277 000007AA F1CE 0E00       rsb              CF2, CF2, #0
  278 000007AE FBC3 450E       smlal            SUM1LL, SUM1LH, VHI, CF2
  279 000007B2 FBC3 670C       smlal            SUM2LL, SUM2LH, VHI, CF1
  280 000007B6         
  361 000007B6         
  362 000007B6 F501 7180       add              VB1, VB1, #(4*64) ; vb1 += 64
  363 000007BA         
  364 000007BA 9801            ldr              PCM, [sp, #4] 
                                                            ; load pcm pointer
  365 000007BC F44F 4EFE       mov              MAXPOS, #0x7f00
  366 000007C0 F04E 0EFF       orr              MAXPOS, MAXPOS, #0xff
  367 000007C4         
  368 000007C4                 C64TOS           SUM1LL, SUM1LH, SIGN, MAXPOS
   42 000007C4         
   43 000007C4 EA4F 6494       mov              SUM1LL, SUM1LL, lsr #(20+6)
   44 000007C8 EA44 1485       orr              SUM1LL, SUM1LL, SUM1LH, lsl #(1
2-6)
   45 000007CC EA4F 7CE4       mov              SIGN, SUM1LL, ASR #31
   46 000007D0 EBBC 3FE4       cmp              SIGN, SUM1LL, ASR #15
   47 000007D4 BF18            it               ne
   48 000007D6 EA8C 040E       eorne            SUM1LL, SIGN, MAXPOS
  369 000007DA                 C64TOS           SUM2LL, SUM2LH, SIGN, MAXPOS
   42 000007DA         
   43 000007DA EA4F 6696       mov              SUM2LL, SUM2LL, lsr #(20+6)



ARM Macro Assembler    Page 20 


   44 000007DE EA46 1687       orr              SUM2LL, SUM2LL, SUM2LH, lsl #(1
2-6)
   45 000007E2 EA4F 7CE6       mov              SIGN, SUM2LL, ASR #31
   46 000007E6 EBBC 3FE6       cmp              SIGN, SUM2LL, ASR #15
   47 000007EA BF18            it               ne
   48 000007EC EA8C 060E       eorne            SUM2LL, SIGN, MAXPOS
  370 000007F0         
  371 000007F0 F8DD C000       ldr              I, [sp, #0] ; load loop counter
                                                            */
  372 000007F4 EB00 0E8C       add              CF2, PCM, I, lsl #2 ; CF2 = PCM
                                                             + 2*i (short offse
                                                            t)*/
  373 000007F8 F82E 6B02       strh             SUM2LL, [CF2], #2 
                                                            ; (pcm + 2*i + 0)
  374 000007FC F820 4B02       strh             SUM1LL, [PCM], #2 
                                                            ; (pcm + 0) ; pcm++
                                                            
  375 00000800         
  376 00000800 F1BC 0C01       subs             I, I, #1
  377 00000804 F47F AF4C       bne              LoopPM
  378 00000808         
  379 00000808         ; restore stack pointer
  380 00000808 B002            add              sp, sp, #8
  381 0000080A         
  382 0000080A E8BD 8FF0       ldmfd            sp!, {r4-r11, pc}
  383 0000080E                 ENDP
  384 0000080E         
  385 0000080E                 END
Command Line: --debug --xref --diag_suppress=9931 --cpu=Cortex-M4.fp.sp --apcs=
interwork --depend=stm32469i_disco\asmpoly_thumb2.d -ostm32469i_disco\asmpoly_t
humb2.o -I.\RTE\_STM32469I_DISCO -IC:\Users\cyang\AppData\Local\Arm\Packs\ARM\C
MSIS\5.9.0\CMSIS\Core\Include -IC:\Users\cyang\AppData\Local\Arm\Packs\Keil\STM
32F4xx_DFP\2.17.1\Drivers\CMSIS\Device\ST\STM32F4xx\Include --predefine="__MICR
OLIB SETA 1" --predefine="__UVISION_VERSION SETA 538" --predefine="_RTE_ SETA 1
" --predefine="STM32F469xx SETA 1" --predefine="_RTE_ SETA 1" --list=asmpoly_th
umb2.lst ..\Src\Mp3Lib\scr\arm\asmpoly_thumb2.S



ARM Macro Assembler    Page 1 Alphabetic symbol ordering
Relocatable symbols

.text 00000000

Symbol: .text
   Definitions
      At line 1 in file ..\Src\Mp3Lib\scr\arm\asmpoly_thumb2.S
   Uses
      None
Comment: .text unused
LoopPM 000006A0

Symbol: LoopPM
   Definitions
      At line 344 in file ..\Src\Mp3Lib\scr\arm\asmpoly_thumb2.S
   Uses
      At line 377 in file ..\Src\Mp3Lib\scr\arm\asmpoly_thumb2.S
Comment: LoopPM used once
LoopPS 0000028A

Symbol: LoopPS
   Definitions
      At line 183 in file ..\Src\Mp3Lib\scr\arm\asmpoly_thumb2.S
   Uses
      At line 226 in file ..\Src\Mp3Lib\scr\arm\asmpoly_thumb2.S
Comment: LoopPS used once
xmp3_PolyphaseMono 0000051C

Symbol: xmp3_PolyphaseMono
   Definitions
      At line 285 in file ..\Src\Mp3Lib\scr\arm\asmpoly_thumb2.S
   Uses
      At line 286 in file ..\Src\Mp3Lib\scr\arm\asmpoly_thumb2.S
Comment: xmp3_PolyphaseMono used once
xmp3_PolyphaseStereo 00000000

Symbol: xmp3_PolyphaseStereo
   Definitions
      At line 115 in file ..\Src\Mp3Lib\scr\arm\asmpoly_thumb2.S
   Uses
      At line 116 in file ..\Src\Mp3Lib\scr\arm\asmpoly_thumb2.S
Comment: xmp3_PolyphaseStereo used once
5 symbols
359 symbols in table
